# AI系统 (Artificial Intelligence)

## 1. 感知系统 (Senses)

### 1.1 听觉 (Hearing)
*   **发声源**: 武器攻击、移动(跑/走)、开门等行为会生成"声音"。
*   **判定公式**: `Loudness x HearingRange x DecayRatio >= Distance`
    *   `Loudness`: 发声源强度。
    *   `HearingRange`: AI听觉范围。
    *   `DecayRatio`: 阻挡物衰减系数 (v0.0.2全局默认为0.5)。
*   **多重发声**:
    *   远程武器: 开枪位置(玩家) + 子弹销毁位置(落点) 均发声。
    *   近战武器: 挥舞位置(SpreadRange=0) + 击中位置(SpreadRange>0)。

### 1.2 触摸 (Touch)
*   **判定**: 玩家胶囊体与AI胶囊体发生物理**碰撞**。
*   **响应**: AI立即获得玩家位置。

### 1.3 受伤 (Damage)
*   **盲区受伤**: 若AI不处于战斗状态且未看到玩家，受伤时会获得伤害来源方向。
*   **行为**: AI尝试面向伤害来源；若仍未看到玩家，则向伤害来源方向最近的障碍物移动/搜索。

## 2. 团队协作 (Teamwork)
*   **机制**: 基于**广播 (Broadcasting)**。
*   **触发**: AI目击玩家。
*   **响应**: 将玩家坐标广播给附近 **600cm** 范围内的队友 -> 队友进入警戒/战斗状态。

## 3. 状态逻辑 (State Logic)
*   **远程敌人**:
    1.  寻找掩体
    2.  瞄准玩家
    3.  攻击
    4.  使用技能
*   **近战敌人**:
    1.  寻找路径 (Nav)
    2.  接近玩家
    3.  攻击
    4.  使用技能
