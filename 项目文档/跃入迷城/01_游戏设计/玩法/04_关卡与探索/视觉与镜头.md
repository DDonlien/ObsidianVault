# 视觉与镜头 (Camera & Vision)

## 1. 视角透视 (Perspective & Occlusion)

### 1.1 遮挡处理方案 (v0.0.2)
*   **核心机制**: 参考《清零计划》。以玩家为中心，镂空半径 **300cm**、下 **45°** 范围内的两条墙壁。
*   **敌人显示**: 玩家视野内的敌人，被遮挡时显示**延时描边** (参考《上行战场》)。
*   **遮挡物分类**:
    *   Type 1/2: 不镂空。
    *   Type 3/4: 镂空 (详见蹲伏篇章)。
*   **渐变过渡**: 镂空边缘有透明度渐变。

### 1.2 待解决问题
*   **墙体连接处**: 玩家从一面墙移动到另一面墙时，透视切换可能不连贯。
*   **阴影切割**: 墙壁透视后可能留下阴影，导致透视圈视觉上被切割。

## 2. 战争迷雾 (Fog of War)

### 2.1 区域划分
玩家屏幕内的空间分为三个区域：
1.  **黑色迷雾区域**: 完全未探索区域 (黑色遮罩)。
2.  **灰色迷雾区域**: 已探索但当前无视野区域 (灰色遮罩，不透明度50%)。
    *   **Character**: 不可见。
    *   **Actor**: 维持最后一次目击状态 (不刷新，类War3机制)。
3.  **视野区域**: 玩家当前的扇形/锥形视野 + 周边圆形视野。

### 2.2 动态表现
*   **死区 (Deadzone)**: 玩家鼠标/角色在定义角度内微调移动时，迷雾不抖动。
*   **渐变过渡**:
    *   黑 -> 灰 -> 亮 的切换应有平滑渐变。
    *   视野区域外有N距离的渐变过渡带。
*   **地形交互**: 迷雾边缘应随地形起伏变形 (如DOTA2的高地效果)。

### 2.3 技术实现细节
*   **Grid渲染**: 相比均匀圆渲染，建议采用Grid (菱形/六边形) 渲染，仅显示视野与Grid重叠的部分，以解决地形高低差带来的视野逻辑问题。
