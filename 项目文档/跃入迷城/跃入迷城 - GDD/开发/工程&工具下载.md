
**工程&工具下载**

**Unreal Engine & 编译器**

为了正常运行引擎，需要按顺序下载如下工具

**Epic Launcher** 

- **功能**：Unreal Engine的管理软件（启动器，理解为Steam即可）
- **版本**：Epic官网最高版本即可
- **下载地址：**
- **安装注意：**
- 务必注意要安装win64版本，由于无法手动选择，可以参考下列流程检查是否安装正确
- 前往安装epic launcher的文件夹：epic games / launcher / portal / binaries / win64
- 如果win64路径存在，则说明安装正确，用win64的启动.exe启动Epic Launcher，并安装Unreal Engine
- 如果win64不存在，问题大条，参考以下解决方案

**Unreal Engine**

- **功能**：虚幻引擎，用于运行、制作、编译游戏项目工程
- **版本**：5.3.2（目前所有项目均使用该版本）
- **下载地址**：Epic Launcher内下载

**Visual Studio**

- **功能**：用于编译虚幻引擎工程，Community版免费，现在必须安装才能启动工程
- **版本**：2022，子版本选择最高版本即可（不低于17.6）
- **下载地址**：<https://visualstudio.microsoft.com/zh-hans/>
- **安装注意**：
- Visual Studio不是Visual Studio Code
- 安装时，需要一并安装下列组件，会在vs的安装流程中被提醒
- **2025.2.10 Update**: 新安装VS时检查C++桌面开发和C++游戏开发组件，**取消勾选C++ AddressSanitizer**，否则会与最新版MSVC冲突导致编译不过。
- 如果你确实需要Sanitizer那就只能回滚旧版本VS，参考 https://stackoverflow.com/questions/72232850/how-to-install-specific-version-of-visual-studio-2022

![...](../../跃入迷城%20-%20GDD/开发/images/工程&工具下载.001.png)

**[该类型的内容暂不支持下载]**

**Perforce**

**版本&下载**

- **功能**：目前源码采用Perforce管理版本，常规使用只需要下载客户端**p4v**
- **版本**：官网下载最新即可
- **下载地址：[**https://www.perforce.com/downloads/helix-visual-client-p4v](https://www.perforce.com/downloads/helix-visual-client-p4v)**

**工程下载流程**

- 下载上述工程必须工具
- 尤其是确保Visual Studio的插件、Unreal Engine都完成下载安装
- 第一次打开p4v会让你连接服务器，输入地址和port，并输入相应的User名，Workspace不用，点击OK后应该会让你输入密码
- **服务器IP:端口：** 47.116.5.200:1666
- **美术**使用的共享账号：
- user name: pfshare
- password: projfiber123
- 程序、策划使用的共享账号：
- user name: pfshare2
- password: projfibershare123
- 如果你已经在使用一个账号，除非特别说明，否则无需遵守以上规则进行调整

```<p>- **Workspace创建请严格按照以下命名规则：**</p><p>- 格式：username\_personname\_device\_no.</p><p>- 举例：pfshare\_taobegong\_macbookair\_1234</p>```
- P4V连接上之后按下图操作：

![...](../../跃入迷城%20-%20GDD/开发/images/工程&工具下载.002.png)

![...](../../跃入迷城%20-%20GDD/开发/images/工程&工具下载.003.png)

![...](../../跃入迷城%20-%20GDD/开发/images/工程&工具下载.004.png)

- 等待，首次下载会非常漫长
- 下载完成后，前往文件夹（不是p4v）中的~/ProjFiber，应该会看到一个ProjeFiber.uproject的文件
- 此处以跃入迷城项目为例，其他项目按情况对照
- 右键，选择Generate Visual Studio project files

![...](../../跃入迷城%20-%20GDD/开发/images/工程&工具下载.005.png)

- 应该会有弹窗，然后等待，然后文件夹中应该会出现ProjFiber.sln文件
- 如果没有，问题大条，解决方案TBD，记得保存报错信息
- 双击打开ProjFiber.sln，vs会打开这个文件
- 选择右侧的projfiber

![...](../../跃入迷城%20-%20GDD/开发/images/工程&工具下载.006.png)

- 右键，选择设为启动项

![...](../../跃入迷城%20-%20GDD/开发/images/工程&工具下载.007.png)

- 然后执行打开工程

**虚幻编辑器连接 Perforce (必须)**

- 打开编辑器后，右下角点击Revision Control，然后点击Connect to Revision Control

![...](../../跃入迷城%20-%20GDD/开发/images/工程&工具下载.008.png)

- 弹窗中Provider选择Perforce，后面Server / User Name / Workspace 根据自己的信息来即可。Available Workspaces中如果没有自己的workspace，也可以手动输入自己的Workspace名字

![...](../../跃入迷城%20-%20GDD/开发/images/工程&工具下载.009.png)

- 打开Editor Preferences

![...](../../跃入迷城%20-%20GDD/开发/images/工程&工具下载.010.png)

- 搜索 checkout，将这两项打上勾

![...](../../跃入迷城%20-%20GDD/开发/images/工程&工具下载.011.png)

- 现在虚幻编辑器就和Perforce服务器连接上了。在编辑器中工作时，任何文件修改都会将该文件自动Checkout。如果有其他成员checkout了某个文件，也可以在编辑器中实时看到。uasset等无法在p4v客户端内进行diff和resolve的二进制文件也可以在编辑器中进行操作。最后，编辑器内还可以进行submit操作。
- 编辑器中版本控制相关的信息基本都在每个资产的右键菜单-Revision Control里。

![...](../../跃入迷城%20-%20GDD/开发/images/工程&工具下载.012.png)

- 编辑器内查看ChangeList

![...](../../跃入迷城%20-%20GDD/开发/images/工程&工具下载.013.png)

![...](../../跃入迷城%20-%20GDD/开发/images/工程&工具下载.014.png)

**Visual Studio 连接 Perforce (开发建议配置)**

- 其实对代码文件来说，p4v的功能基本够用了，配置VS连接Perforce主要是为了自动Checkout。
- 如果没有自动checkout的话，在编辑每个文本文件的时候，都要打开p4v找到个文件，然后右键checkout，非常繁琐。或者稍微方便点的是直接在VS里打开每个文件的只读锁，在提交前checkout整个Source文件夹再Revert Unchanged，这样和Perforce的理念冲突，并且也挺麻烦的。
- 插件下载地址：https://marketplace.visualstudio.com/items?itemName=ScottSimpson.p4editvs2022
- 注意这个是VS2022版，VS2017/2019版是另一个版本
- 关闭VS，安装插件。然后在Tools -> Options -> P4EditVS 中，在Workspace1中配置自己的Perforce信息 (ClientName是Workspace名字 / Server 就是IP地址 / User Name 就是登录名称)
- Extensions -> P4EditVS，确保自己的Workspace旁边打了勾

![...](../../跃入迷城%20-%20GDD/开发/images/工程&工具下载.015.png)

- 这样就配置好了，重启一下VS，然后随便修改个代码文件后保存，在P4V中应该就能看到这个文件出现在ChangeList中了
- 插件的Log在P4EditVS频道中

![...](../../跃入迷城%20-%20GDD/开发/images/工程&工具下载.016.png)

**Rider 链接Perforce（开发建议，简单）**

- Rider对Perforce有很简单的集成
- 确保Plugin已经安装Perforce
- 在Version Control下找到Perforce
- Config Settings改为connection parameters，手动填写与P4V一致的config
- save，重启rider（重启前connect不通是正常的）
- 可以在设置->版本控制->Perforce中点击测试连接查看是否连接成功

如果失败，请检查配置：

![...](../../跃入迷城%20-%20GDD/开发/images/工程&工具下载.017.png)

配置后还是连接失败的话请检查目录映射，没有的话点击加号添加，VCS选择Perforce

![...](../../跃入迷城%20-%20GDD/开发/images/工程&工具下载.018.png)

![...](../../跃入迷城%20-%20GDD/开发/images/工程&工具下载.019.png)

**打开工程**

- 每次打开工程前，**确保执行以下流程**
- 选中streamsDepot，Refresh，Get Latest，确保你修改的是最新的文件
- 双击打开ProjFiber.sln
- 通过ProjFiber.uproject也可以打开工程，但推荐**总是**通过.sln文件打开工程，这样项目总是会使用最新的代码，避免一些不必要的问题。
- 然后点击屏幕上的“本地windows调试器”按钮启动游戏

![...](../../跃入迷城%20-%20GDD/开发/images/工程&工具下载.020.png)

- 每次结束修改后，确保执行以下流程
- Revert Unchanged（UE和VS编辑过程中可能会意外Checkout一些文件，但实际没有任何改动，这个操作可以将这些文件从ChangeList中剔除掉，精简文件历史和改动信息）
- Submit（即使你只改了一点点）
- Revert（如果你不要你的修改内容了，慎选！）

**Perforce Tips**

- **Checkout** 修改仓库中已有文件时的第一步操作，相当于对服务器声明自己将对这个文件进行修改。在配置好UE连接Perforce之后这个操作通常不需要手动进行。
- **理想情况下，Checkout的文件应该和每次你想真正修改的文件是等价的**。这点在虚幻编辑器中并不是那么容易保证，主要是Level (umap)、Niagara粒子、材质等文件容易在你没有意识到的情况下被自动Checkout。
- 对于非 Level 的文件，**你要保证在Submit的时候这些文件和你真正想修改的文件是等价的**，也就是剔除意外checkout的文件，想要做到这点，可以先执行Revert Unchanged，再针对某些没被Revert的文件单独进行Revert。
- 所有文件只要在成员A提交时在其他成员B本地也存在修改就会在B那里出现冲突，而二进制文件的冲突在处理不当时很容易丢修改。因此缩小自己的ChangeList，不包含不需要的修改是很重要的，可以减少冲突量，节省大家的工作时间。
- Level 文件 (关卡，文件后缀.umap) 更麻烦一些。因为这些文件一旦Checkout，直到解除Checkout前其他成员就无法再修改这些文件了。因此如果你在进行地图编辑工作，要多确认自己的ChangeList是否包含不需要的Level并尽快Revert，并且以更高的频率Submit。
- **Marked for Add / Marked for Delete** 将一个新创建的文件交由Perforce进行版本管理，或是将某个删除的文件从版本管理中撤出。正常情况下完全由编辑器处理，但在少量情况下需要手动操作。
- 在编辑器中，我们主要的新建操作为: Content文件夹右键Create、通过Import工具导入外部艺术资产、Duplicate/CopyPaste/Move某个文件、通过Class Wizard创建C++类等。UE会自动将这些操作的结果Add到Perforce中。照理说在新建完后我们就能在ChangeList中看到对应文件。
- 非常偶尔的情况下一些文件会被漏Add，如果绕过上述提到的UE创建文件的流程就容易出这种情况，比如手动复制插件。这种时候要在p4v中手动将这些文件Mark for Add。

**Wwise**

**版本&下载**

目前只有**跃入迷城**项目使用到了Wwise

**Audiokinetic Launcher**

- **功能**：Wwise的管理软件（启动器，理解为Steam即可）
- **版本**：Wwise官网最高版本即可
- **下载链接**：

**Wwise**

- **功能**：用于打开、编辑游戏内音频工程
- **版本**：2023.1.4.8496
- 不是2023的最新LTS版本，需要在Audiokinetic Launcher里，选择all version里挑选下载
- **下载链接**：Audioknetic Launcher内下载

**团队工具**

**版本&下载**

**飞书**

- 不言自明

**Figma**

- 存储了所有的设计稿，包括美术和UI

**Parsec**

- 推荐，用于远程控制电脑和屏幕共享，便于程序排错

